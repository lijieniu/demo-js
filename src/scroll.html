<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>无缝滚动</title>
    <style>
        .box {
            width: 150px;
            height: 25px;
            line-height: 25px;
            border: #bbb 1px solid;
            overflow: hidden;
        }
        .box ul {
            margin: 0;
            padding: 0;
        }
        .box li {
            height: 25px;
            line-height: 25px;
            font-size: 12px;
            text-align: center;
            list-style-type: none;
        }
    </style>
</head>
<body>
    <div class="box" id="marqueebox0">
        <ul>
            <li style="background: #cccccc;">第一行</li>
            <li style="background: #cccccc;">第二行</li>
            <li style="background: #cccccc;">第三行</li>
        </ul>
    </div>
    <script>
        function startmarguee(lh, speed, delay, index) {
            var t;
            var p = false;
            var o = document.getElementById('marqueebox' + index);
            o.innerHTML += o.innerHTML;
            o.onmouseover = function() {p = true}
            o.onmouseout = function() {p = false}
            o.scrollTop = 0;
            function start() {
                t = setInterval(scrolling, speed);
                if(!p) {
                    o.scrollTop += 1;
                }
            }
            function scrolling() {
                if(o.scrollTop % lh != 0) {
                    o.scrollTop += 1;
                    if(o.scrollTop >= o.scrollHeight / 2) {
                        o.scrollTop = 0;
                    } 
                } else {
                    clearInterval(t);
                    setTimeout(start, delay);
                }
            }
            setTimeout(start, delay);
        }
        startmarguee(25, 20, 3000, 0);
    </script>
</body>
</html>